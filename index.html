<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Crash Model</title>

    <!-- METADATA -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- STYLESHEETS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <link href="css/style.css" rel="stylesheet" />
    <link href="css/the-big-picture.css" rel="stylesheet" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css"
      integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
      crossorigin=""
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet.markercluster@1.3.0/dist/MarkerCluster.css"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet.markercluster@1.3.0/dist/MarkerCluster.Default.css"
    />

    <!-- JS FILES -->
    <script
      src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"
      integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw=="
      crossorigin=""
    ></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://unpkg.com/leaflet.markercluster@1.3.0/dist/leaflet.markercluster.js"></script>
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  </head>
  <body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-bottom">
      <div class="container">
        <a class="navbar-brand" href="#">Crash Model</a>
        <button
          class="navbar-toggler"
          type="button"
          data-toggle="collapse"
          data-target="#navbarResponsive"
          aria-controls="navbarResponsive"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item active">
              <a class="nav-link" href="#"
                >Home <span class="sr-only">(current)</span>
              </a>
            </li>
            <li class="nav-item"><a class="nav-link" href="#">About</a></li>
            <li class="nav-item"><a class="nav-link" href="#">Services</a></li>
            <li class="nav-item"><a class="nav-link" href="#">Contact</a></li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Page Content -->
    <section>
      <div class="container">
        <div class="row" style="font-size: 0.7em; background: black;">
          <div
            class="col-lg-9"
            style="right: 0px; height: 100%; position: fixed;"
          >
            <div id="mapid"></div>
          </div>
          <div
            class="col-lg-3"
            style="background: white; height: 100%; position: fixed; left: 0px; "
          >
            <h1 class="mt-5">Crash Model</h1>
            <p>
              The most dangerous traffic signals based on the number of
              pedestrian and bike crashes.
            </p>
            <h3>Legend</h3>
            <table>
              <tr>
                <td>
                  <input
                    type="checkbox"
                    id="trafficSignalToggle"
                    checked="checked"
                  />
                  <img
                    style="padding-right:10px"
                    src="img/traffic-light-256.png"
                    width="30"
                  />
                </td>
                <td>Traffic Signal</td>
              </tr>
              <tr>
                <td>
                  <input
                    type="checkbox"
                    id="bikeCrashesToggle"
                    checked="checked"
                  />
                  <img
                    style="padding-right:10px"
                    src="img/map-marker-2-xxl.png"
                    width="30"
                  />
                </td>
                <td>Bike Crash</td>
              </tr>
              <tr>
                <td>
                  <input
                    type="checkbox"
                    id="pedestrianCrashesToggle"
                    checked="checked"
                  />
                  <img
                    style="padding-right:10px"
                    src="img/map-marker-2-xxl 2.png"
                    width="30"
                  />
                </td>
                <td>Pedestrian Crash</td>
              </tr>
              <tr>
                <td>
                  <input
                    type="checkbox"
                    id="redCirclesToggle"
                    checked="checked"
                  />
                  <img
                    style="padding-right:10px"
                    src="img/radius.png"
                    width="30"
                  />
                </td>
                <td>Num Crashes within 0.2km (radius = num)</td>
              </tr>
            </table>

            <h3>Instructions</h3>
            <p>
              Use the mouse and scroll wheel to navigate the map. Double click
              on a cluster to zoom into it. Single click on cluster to see
              makers within it.
            </p>
          </div>
        </div>
      </div>
    </section>

    <div id="loader">Loading. Please wait.</div>

    <script src="js/global_variables.js"></script>
    <script src="js/geo_functions.js"></script>
    <script src="js/crash_model.js"></script>
    <script src="js/event_handlers.js"></script>

    <script>
      startApp();
    </script>
  </body>
</html>
